<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>外挂标签的添加方法</title>
      <link href="/posts/40207.html"/>
      <url>/posts/40207.html</url>
      
        <content type="html"><![CDATA[<h2 id="外挂标签的添加方法"><a href="#外挂标签的添加方法" class="headerlink" title="外挂标签的添加方法"></a>外挂标签的添加方法</h2><h3 id="一、插件安装方案"><a href="#一、插件安装方案" class="headerlink" title="一、插件安装方案"></a>一、插件安装方案</h3><div class="tabs" id="test4"><ul class="nav-tabs"><button type="button" class="tab  active" data-href="test4-1">npm插件安装方案Tab</button><button type="button" class="tab " data-href="test4-2">源码修改配置方案</button></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><h4 id="1、安装插件-在博客根目录-Blogroot-下打开终端，运行以下指令："><a href="#1、安装插件-在博客根目录-Blogroot-下打开终端，运行以下指令：" class="headerlink" title="1、安装插件,在博客根目录[Blogroot]下打开终端，运行以下指令："></a>1、安装插件,在博客根目录[Blogroot]下打开终端，运行以下指令：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-tag-plugins-plus --save</span><br></pre></td></tr></table></figure><p>考虑到hexo自带的markdown渲染插件hexo-renderer-marked与外挂标签语法的兼容性较差，建议您将其替换成hexo-renderer-kramed</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure><h4 id="2、添加配置信息，以下为写法示例"><a href="#2、添加配置信息，以下为写法示例" class="headerlink" title="2、添加配置信息，以下为写法示例"></a>2、添加配置信息，以下为写法示例</h4><p>在站点配置文件_config.yml或者主题配置文件_config.butterfly.yml中添加</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tag-plugins-plus</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/615e2dec/</span></span><br><span class="line">tag_plugins:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  priority: 5 <span class="comment">#过滤器优先权</span></span><br><span class="line">  issues: <span class="literal">false</span> <span class="comment">#issues标签依赖注入开关</span></span><br><span class="line">  <span class="built_in">link</span>:</span><br><span class="line">    placeholder: /img/link.png <span class="comment">#link_card标签默认的图标图片</span></span><br><span class="line">  CDN:</span><br><span class="line">    anima: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css <span class="comment">#动画标签anima的依赖</span></span><br><span class="line">    jquery: https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js <span class="comment">#issues标签依赖</span></span><br><span class="line">    issues: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/issues.js <span class="comment">#issues标签依赖</span></span><br><span class="line">    iconfont: //at.alicdn.com/t/font_2032782_8d5kxvn09md.js <span class="comment">#参看https://akilar.top/posts/d2ebecef/</span></span><br><span class="line">    carousel: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js</span><br><span class="line">    tag_plugins_css: https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css</span><br></pre></td></tr></table></figure><h4 id="3、参数释义"><a href="#3、参数释义" class="headerlink" title="3、参数释义"></a>3、参数释义</h4><div class="table-container"><table><thead><tr><th>参数</th><th>备选值/类型</th><th>释义</th></tr></thead><tbody><tr><td>enable</td><td>true/false</td><td>【必选】控制开关</td></tr><tr><td>priority</td><td>number</td><td>【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td>issues</td><td>true/false</td><td>【可选】issues标签控制开关，默认为false</td></tr><tr><td>link.placeholder</td><td>【必选】link卡片外挂标签的默认图标</td><td></td></tr><tr><td>CDN.anima</td><td>URL</td><td>【可选】动画标签anima的依赖</td></tr><tr><td>CDN.jquery</td><td>URL</td><td>【可选】issues标签依赖</td></tr><tr><td>CDN.issues</td><td>URL</td><td>【可选】issues标签依赖</td></tr><tr><td>CDN.iconfont</td><td>URL</td><td>【可选】iconfont标签symbol样式引入，如果不想引入，则设为false</td></tr><tr><td>CDN.carousel</td><td>URL</td><td>【可选】carousel旋转相册标签鼠标拖动依赖，如果不想引入则设为false</td></tr><tr><td>CDN.tag_plugins_css</td><td>URL</td><td>【可选】外挂标签样式的CSS依赖，为避免CDN缓存延迟，建议将@latest改为具体版本号</td></tr></tbody></table></div></div><div class="tab-item-content" id="test4-2"><div class="tip info"><p>源码修改配置方案适用于不想应用全部外挂标签的用户，供熟悉外挂标签原理的用户自行选择装配需要的标签文件。</p></div><h4 id="1、下载资源文件"><a href="#1、下载资源文件" class="headerlink" title="1、下载资源文件"></a>1、下载资源文件</h4><div class="issues-api sites"api="https://github.com/Akilarlxh/hexo-butterfly-tag-plugins-plus"></div><h4 id="2、将下载的hexo-butterfly-tag-plugins-plus-zip解压得到资源文件夹-下文以-tag-plugins-file-指代该文件夹。"><a href="#2、将下载的hexo-butterfly-tag-plugins-plus-zip解压得到资源文件夹-下文以-tag-plugins-file-指代该文件夹。" class="headerlink" title="2、将下载的hexo-butterfly-tag-plugins-plus.zip解压得到资源文件夹,下文以[tag_plugins_file]指代该文件夹。"></a>2、将下载的hexo-butterfly-tag-plugins-plus.zip解压得到资源文件夹,下文以[tag_plugins_file]指代该文件夹。</h4><h4 id="3、将-tag-plugins-file-lib-scripts目录下的文件放到-Blogroot-themes-butterfly-scripts-tag-文件夹内。"><a href="#3、将-tag-plugins-file-lib-scripts目录下的文件放到-Blogroot-themes-butterfly-scripts-tag-文件夹内。" class="headerlink" title="3、将[tag_plugins_file]\lib\scripts目录下的文件放到[Blogroot]\themes\butterfly\scripts\tag\文件夹内。"></a>3、将[tag_plugins_file]\lib\scripts目录下的文件放到[Blogroot]\themes\butterfly\scripts\tag\文件夹内。</h4><h4 id="4、将-tag-plugins-file-lib-style目录下的文件放到-Blogroot-themes-butterfly-source-css-tags-文件夹内。"><a href="#4、将-tag-plugins-file-lib-style目录下的文件放到-Blogroot-themes-butterfly-source-css-tags-文件夹内。" class="headerlink" title="4、将[tag_plugins_file]\lib\style目录下的文件放到[Blogroot]\themes\butterfly\source\css\tags\文件夹内。"></a>4、将[tag_plugins_file]\lib\style目录下的文件放到[Blogroot]\themes\butterfly\source\css\tags\文件夹内。</h4><h4 id="5、修改-Blogroot-config-butterfly-yml的inject配置项，添加CDN依赖项。由于issues写入timeline和site-card标签要用到jquery，请务必根据注释指示的版本决定是否添加。"><a href="#5、修改-Blogroot-config-butterfly-yml的inject配置项，添加CDN依赖项。由于issues写入timeline和site-card标签要用到jquery，请务必根据注释指示的版本决定是否添加。" class="headerlink" title="5、修改[Blogroot]_config.butterfly.yml的inject配置项，添加CDN依赖项。由于issues写入timeline和site-card标签要用到jquery，请务必根据注释指示的版本决定是否添加。"></a>5、修改[Blogroot]_config.butterfly.yml的inject配置项，添加CDN依赖项。由于issues写入timeline和site-card标签要用到jquery，请务必根据注释指示的版本决定是否添加。</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  <span class="built_in">head</span>:</span><br><span class="line">    - &lt;<span class="built_in">link</span> rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css&quot;</span>  media=<span class="string">&quot;defer&quot;</span> onload=<span class="string">&quot;this.media=&#x27;all&#x27;&quot;</span>&gt;  <span class="comment">#动画标签anima的依赖</span></span><br><span class="line">    - &lt;script async src=<span class="string">&quot;https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/carousel-touch.min.js&quot;</span>&gt;&lt;/script&gt; <span class="comment">#carousel相册鼠标动作的依赖</span></span><br><span class="line">  bottom:</span><br><span class="line">    - &lt;script defer src=<span class="string">&quot;https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    <span class="comment"># 自butterfly_v3.4.0+开始，主题基本实现去jquery化，需要自己添加引用，请读者根据版本自行决定是否添加这行引用。</span></span><br><span class="line">    - &lt;script defer src=<span class="string">&quot;https://npm.elemecdn.com/hexo-theme-volantis@4.3.1/source/js/issues.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    <span class="comment">#数据集合标签issues的依赖</span></span><br></pre></td></tr></table></figure><h4 id="6、考虑到hexo自带的markdown渲染插件hexo-renderer-marked与外挂标签语法的兼容性较差，建议您将其替换成hexo-renderer-kramed"><a href="#6、考虑到hexo自带的markdown渲染插件hexo-renderer-marked与外挂标签语法的兼容性较差，建议您将其替换成hexo-renderer-kramed" class="headerlink" title="6、考虑到hexo自带的markdown渲染插件hexo-renderer-marked与外挂标签语法的兼容性较差，建议您将其替换成hexo-renderer-kramed"></a>6、考虑到hexo自带的markdown渲染插件hexo-renderer-marked与外挂标签语法的兼容性较差，建议您将其替换成hexo-renderer-kramed</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure><h4 id="7、外挂标签使用方案请参阅下文。"><a href="#7、外挂标签使用方案请参阅下文。" class="headerlink" title="7、外挂标签使用方案请参阅下文。"></a>7、外挂标签使用方案请参阅下文。</h4></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>搭建Xray证书自动续期</title>
      <link href="/posts/3e5.html"/>
      <url>/posts/3e5.html</url>
      
        <content type="html"><![CDATA[<h2 id="搭建Xray证书自动续期"><a href="#搭建Xray证书自动续期" class="headerlink" title="搭建Xray证书自动续期"></a>搭建Xray证书自动续期</h2><h3 id="一、安装依赖包"><a href="#一、安装依赖包" class="headerlink" title="一、安装依赖包"></a>一、安装依赖包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Debian/Ubuntu 命令（看系统执行）</span><br><span class="line">apt update -y</span><br><span class="line">apt install -y curl</span><br><span class="line">apt install -y socat</span><br><span class="line">CentOS 命令（看系统执行）</span><br><span class="line">yum update -y</span><br><span class="line">yum install -y curl</span><br><span class="line">yum install -y socat</span><br></pre></td></tr></table></figure><h3 id="二、安装acme-sh"><a href="#二、安装acme-sh" class="headerlink" title="二、安装acme.sh"></a>二、安装acme.sh</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://get.acme.sh | sh -s email=您的域名邮箱</span><br></pre></td></tr></table></figure><h3 id="三、立刻加载修改后设置，使之生效"><a href="#三、立刻加载修改后设置，使之生效" class="headerlink" title="三、立刻加载修改后设置，使之生效"></a>三、立刻加载修改后设置，使之生效</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><h3 id="四、申请证书"><a href="#四、申请证书" class="headerlink" title="四、申请证书"></a>四、申请证书</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">acme.sh --issue -d 你的域名 --standalone -k ec-256</span><br></pre></td></tr></table></figure><h3 id="五、安装Nginx"><a href="#五、安装Nginx" class="headerlink" title="五、安装Nginx"></a>五、安装Nginx</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt -y install nginx</span><br></pre></td></tr></table></figure><h3 id="六、vps目录创建文件夹"><a href="#六、vps目录创建文件夹" class="headerlink" title="六、vps目录创建文件夹"></a>六、vps目录创建文件夹</h3><p>vps目录下找/etc/nginx目录下创建一个文件夹，并命名为ssl</p><h3 id="七、设置证书自动续期（vps执行以下命令）"><a href="#七、设置证书自动续期（vps执行以下命令）" class="headerlink" title="七、设置证书自动续期（vps执行以下命令）"></a>七、设置证书自动续期（vps执行以下命令）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">acme.sh --installcert -d 你的域名 --ecc \</span><br><span class="line">--key-file       /etc/nginx/ssl/domain.key  \</span><br><span class="line">--fullchain-file /etc/nginx/ssl/domain.crt \</span><br><span class="line">--reloadcmd     <span class="string">&quot;service nginx force-reload&quot;</span></span><br></pre></td></tr></table></figure><h3 id="八、安装xray面板"><a href="#八、安装xray面板" class="headerlink" title="八、安装xray面板"></a>八、安装xray面板</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -Ls https://raw.githubusercontent.com/vaxilu/x-ui/master/install.sh)</span><br></pre></td></tr></table></figure><h3 id="九、安装BBR"><a href="#九、安装BBR" class="headerlink" title="九、安装BBR"></a>九、安装BBR</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh&quot;</span> &amp;&amp; <span class="built_in">chmod</span> +x tcp.sh &amp;&amp; ./tcp.sh</span><br></pre></td></tr></table></figure><p>选择【2】，安装过程中弹出窗口选择【NO】，再继续安装后选择【y】回车重启vps。</p><h3 id="十、BBR加速（再次执行以下命令）"><a href="#十、BBR加速（再次执行以下命令）" class="headerlink" title="十、BBR加速（再次执行以下命令）"></a>十、BBR加速（再次执行以下命令）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh&quot;</span> &amp;&amp; <span class="built_in">chmod</span> +x tcp.sh &amp;&amp; ./tcp.sh</span><br></pre></td></tr></table></figure><p>选择【7】回车。</p>]]></content>
      
      
      <categories>
          
          <category> 证书 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 证书SSL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker搭建个人博客Wordpress</title>
      <link href="/posts/888c.html"/>
      <url>/posts/888c.html</url>
      
        <content type="html"><![CDATA[<h2 id="docker搭建个人博客Wordpress"><a href="#docker搭建个人博客Wordpress" class="headerlink" title="docker搭建个人博客Wordpress"></a>docker搭建个人博客Wordpress</h2><h3 id="一、重裝系统"><a href="#一、重裝系统" class="headerlink" title="一、重裝系统"></a>一、重裝系统</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget --no-check-certificate -qO- <span class="string">&#x27;https://raw.githubusercontent.com/MoeClub/Note/master/InstallNET.sh&#x27;</span>) -d 11 -v 64 -p asdasd123123 -port 22</span><br></pre></td></tr></table></figure><p>-p 后面为root密码</p><h3 id="二、更新环境"><a href="#二、更新环境" class="headerlink" title="二、更新环境"></a>二、更新环境</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update -y  &amp;&amp; apt upgrade -y &amp;&amp; apt install -y curl wget <span class="built_in">sudo</span> socat</span><br></pre></td></tr></table></figure><h3 id="三、安装-Docker"><a href="#三、安装-Docker" class="headerlink" title="三、安装 Docker"></a>三、安装 Docker</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://get.docker.com -o get-docker.sh &amp;&amp; sh get-docker.sh</span><br><span class="line">curl -L <span class="string">&quot;https://github.com/docker/compose/releases/download/v2.17.2/docker-compose-<span class="subst">$(uname -s)</span>-<span class="subst">$(uname -m)</span>&quot;</span> -o /usr/local/bin/docker-compose</span><br><span class="line"><span class="built_in">chmod</span> +x /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure><h3 id="四、创建wp目录，创建配置文件"><a href="#四、创建wp目录，创建配置文件" class="headerlink" title="四、创建wp目录，创建配置文件"></a>四、创建wp目录，创建配置文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/ &amp;&amp; <span class="built_in">mkdir</span> wp1 &amp;&amp; <span class="built_in">cd</span> wp1 &amp;&amp; nano docker-compose.yml</span><br></pre></td></tr></table></figure><h3 id="五、搭建wp代码"><a href="#五、搭建wp代码" class="headerlink" title="五、搭建wp代码"></a>五、搭建wp代码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3.8&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line"></span><br><span class="line">  web:</span><br><span class="line"></span><br><span class="line">    image: nginx</span><br><span class="line"></span><br><span class="line">    ports:</span><br><span class="line"></span><br><span class="line">      - 80:80</span><br><span class="line"></span><br><span class="line">      - 443:443</span><br><span class="line"></span><br><span class="line">    volumes:</span><br><span class="line"></span><br><span class="line">      - ./nginx/nginx.conf:/etc/nginx/nginx.conf</span><br><span class="line"></span><br><span class="line">      - ./nginx/certs:/etc/nginx/certs</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  wordpress:</span><br><span class="line"></span><br><span class="line">    image: wordpress</span><br><span class="line"></span><br><span class="line">    ports:</span><br><span class="line"></span><br><span class="line">      - 9000:80</span><br><span class="line"></span><br><span class="line">    environment:</span><br><span class="line"></span><br><span class="line">      WORDPRESS_DB_HOST: database</span><br><span class="line"></span><br><span class="line">      WORDPRESS_DB_NAME: wordpress</span><br><span class="line"></span><br><span class="line">      WORDPRESS_DB_USER: wordpress</span><br><span class="line"></span><br><span class="line">      WORDPRESS_DB_PASSWORD: kejixiaoxinwordpress_password123</span><br><span class="line"></span><br><span class="line">    volumes:</span><br><span class="line"></span><br><span class="line">      - wordpress-data:/var/www/html</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  database:</span><br><span class="line"></span><br><span class="line">    image: mysql</span><br><span class="line"></span><br><span class="line">    <span class="comment"># image: arm64v8/mysql</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ARM使用上面的镜像 去掉井号 同时为image: mysql加上井号    </span></span><br><span class="line"></span><br><span class="line">    environment:</span><br><span class="line"></span><br><span class="line">      MYSQL_ROOT_PASSWORD: root_password</span><br><span class="line"></span><br><span class="line">      MYSQL_DATABASE: wordpress</span><br><span class="line"></span><br><span class="line">      MYSQL_USER: wordpress</span><br><span class="line"></span><br><span class="line">      MYSQL_PASSWORD: kejixiaoxinwordpress_password123</span><br><span class="line"></span><br><span class="line">    volumes:</span><br><span class="line"></span><br><span class="line">      - mysql:/var/lib/mysql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">volumes:</span><br><span class="line"></span><br><span class="line">  wordpress-data:</span><br><span class="line"></span><br><span class="line">  mysql:</span><br></pre></td></tr></table></figure><h3 id="六、创建nginx容器所需目录"><a href="#六、创建nginx容器所需目录" class="headerlink" title="六、创建nginx容器所需目录"></a>六、创建nginx容器所需目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/wp1 &amp;&amp; <span class="built_in">mkdir</span> nginx &amp;&amp; <span class="built_in">cd</span> nginx &amp;&amp; <span class="built_in">mkdir</span> certs</span><br></pre></td></tr></table></figure><h3 id="七、进入目录，创建一个nginx配置文件"><a href="#七、进入目录，创建一个nginx配置文件" class="headerlink" title="七、进入目录，创建一个nginx配置文件"></a>七、进入目录，创建一个nginx配置文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/wp1/nginx/ &amp;&amp; nano nginx.conf</span><br></pre></td></tr></table></figure><h3 id="八、搭建反代代码"><a href="#八、搭建反代代码" class="headerlink" title="八、搭建反代代码"></a>八、搭建反代代码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">events &#123;</span><br><span class="line"></span><br><span class="line">    worker_connections  1024;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  client_max_body_size 1000m;  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">#上传限制参数1G以内文件可上传</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  server &#123;</span><br><span class="line"></span><br><span class="line">    listen 80;</span><br><span class="line"></span><br><span class="line">    server_name 加上自己域名;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">return</span> 301 https://$host<span class="variable">$request_uri</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  server &#123;</span><br><span class="line"></span><br><span class="line">    listen 443 ssl http2;</span><br><span class="line"></span><br><span class="line">    server_name 加上自己域名;</span><br><span class="line"></span><br><span class="line">    ssl_certificate /etc/nginx/certs/cert.pem;</span><br><span class="line"></span><br><span class="line">    ssl_certificate_key /etc/nginx/certs/key.pem;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line"></span><br><span class="line">      proxy_pass http://服务器地址:9000;</span><br><span class="line"></span><br><span class="line">      proxy_set_header Host <span class="variable">$host</span>;</span><br><span class="line"></span><br><span class="line">      proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line"></span><br><span class="line">      proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="九、创建SSL证书，我是用CF的15年证书"><a href="#九、创建SSL证书，我是用CF的15年证书" class="headerlink" title="九、创建SSL证书，我是用CF的15年证书"></a>九、创建SSL证书，我是用CF的15年证书</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">公钥</span><br><span class="line"><span class="built_in">cd</span> /home/wp1/nginx/certs &amp;&amp; nano cert.pem</span><br><span class="line"></span><br><span class="line">私钥</span><br><span class="line"><span class="built_in">cd</span> /home/wp1/nginx/certs &amp;&amp; nano key.pem</span><br></pre></td></tr></table></figure><h3 id="十、运行指令"><a href="#十、运行指令" class="headerlink" title="十、运行指令"></a>十、运行指令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/wp1 &amp;&amp; docker-compose up -d</span><br></pre></td></tr></table></figure><h3 id="十一、开机自启动"><a href="#十一、开机自启动" class="headerlink" title="十一、开机自启动"></a>十一、开机自启动</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker update --restart=always wp1-wordpress-1 &amp;&amp; docker update --restart=always wp1-database-1 &amp;&amp; docker update --restart=always wp1-web-1</span><br></pre></td></tr></table></figure><h3 id="十三、其他"><a href="#十三、其他" class="headerlink" title="十三、其他"></a>十三、其他</h3><p>1、备份</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home &amp;&amp; tar -czvf wp1.tar.gz wp1/</span><br></pre></td></tr></table></figure><p>2、迁移&amp;还原</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home &amp;&amp; tar xvzf wp1.tar.gz</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 搭建 </tag>
            
            <tag> 代码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>优选IP</title>
      <link href="/posts/39fc.html"/>
      <url>/posts/39fc.html</url>
      
        <content type="html"><![CDATA[<h2 id="优选ip"><a href="#优选ip" class="headerlink" title="优选ip"></a>优选ip</h2><h4 id="优选ip-（2024-04-01）"><a href="#优选ip-（2024-04-01）" class="headerlink" title="优选ip （2024-04-01）"></a>优选ip （2024-04-01）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">IP 地址       已发送  已接收  丢包率  平均延迟  下载速度 (MB/s)</span><br><span class="line">8.210.107.246     4       4       0.00    35.35     13.53</span><br><span class="line">8.217.85.14       4       4       0.00    22.68     13.52</span><br><span class="line">47.243.42.219     4       4       0.00    37.82     13.51</span><br><span class="line">47.243.179.249    4       4       0.00    25.26     13.48</span><br><span class="line">8.210.107.246     4       4       0.00    30.65     13.45</span><br><span class="line">8.219.110.248     4       4       0.00    64.27     11.27</span><br><span class="line">8.219.99.49       4       4       0.00    62.04     7.51</span><br><span class="line">146.56.38.45      4       4       0.00    76.32     5.87</span><br><span class="line">8.219.72.50       4       4       0.00    61.20     5.58</span><br><span class="line">8.222.140.87      4       4       0.00    55.97     5.16</span><br></pre></td></tr></table></figure><h4 id="香港优选ip"><a href="#香港优选ip" class="headerlink" title="香港优选ip"></a>香港优选ip</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">香港优选ip每天随机不会变动：xg.poppin.cloudns.org</span><br></pre></td></tr></table></figure><h4 id="新加坡优选ip"><a href="#新加坡优选ip" class="headerlink" title="新加坡优选ip"></a>新加坡优选ip</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">新加坡优选ip每天随机不会变动：xjp.poppin.cloudns.org</span><br></pre></td></tr></table></figure><h4 id="美国优选ip"><a href="#美国优选ip" class="headerlink" title="美国优选ip"></a>美国优选ip</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">美国优选ip每天随机不会变动：us.poppin.cloudns.org</span><br></pre></td></tr></table></figure><h4 id="日本优选ip"><a href="#日本优选ip" class="headerlink" title="日本优选ip"></a>日本优选ip</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">日本优选ip每天随机不会变动：rb.poppin.cloudns.org</span><br></pre></td></tr></table></figure><h4 id="德国优选ip"><a href="#德国优选ip" class="headerlink" title="德国优选ip"></a>德国优选ip</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">德国优选ip每天随机不会变动：dg.poppin.cloudns.org</span><br></pre></td></tr></table></figure><h4 id="韩国优选ip"><a href="#韩国优选ip" class="headerlink" title="韩国优选ip"></a>韩国优选ip</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">韩国优选ip每天随机不会变动：hg.poppin.cloudns.org</span><br></pre></td></tr></table></figure><h4 id="单个优选ip地区随机，大概地区会（香港、新加坡、日本、韩国、德国、美国）"><a href="#单个优选ip地区随机，大概地区会（香港、新加坡、日本、韩国、德国、美国）" class="headerlink" title="单个优选ip地区随机，大概地区会（香港、新加坡、日本、韩国、德国、美国）"></a>单个优选ip地区随机，大概地区会（香港、新加坡、日本、韩国、德国、美国）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">单个优选ip每天随机不会变动：yg.poppin.cloudns.org</span><br></pre></td></tr></table></figure><p>多个合一优选ip，可跑4K，高峰期会不太稳定<br>多个优选ip内含（10个ip）会随机变动，推荐可以用来看电视，最好不要用来登录其他账号或者注册，以防被封：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sj.poppin.cloudns.org</span><br></pre></td></tr></table></figure><br>在线24小时自动优选ip，自己可选，在线不断更新<br>美国、德国、日本、韩国、香港、新加坡等。<br>在线地址：<a href="https://g.poppin.eu.org/ip4/">https://g.poppin.eu.org/ip4/</a></p>]]></content>
      
      
      <categories>
          
          <category> 优选IP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 筛选 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>分类</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>标签</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/custom.css"/>
      <url>/css/custom.css</url>
      
        <content type="html"><![CDATA[/* @font-face {  font-family: Candyhome;  src: url(https://npm.elemecdn.com/anzhiyu-blog@1.1.6/fonts/Candyhome.ttf);  font-display: swap;  font-weight: lighter;} */@font-face {    font-family: ZhuZiAYuanJWD;    src: url(https://npm.elemecdn.com/anzhiyu-blog@1.1.6/fonts/ZhuZiAWan.woff2);    font-display: swap;    font-weight: lighter;  }    div#menus {    font-family: "ZhuZiAYuanJWD";  }  h1#site-title {    font-family: ZhuZiAYuanJWD;    font-size: 3em !important;  }  a.article-title,  a.blog-slider__title,  a.categoryBar-list-link,  h1.post-title {    font-family: ZhuZiAYuanJWD;  }    .iconfont {    font-family: "iconfont" !important;    font-size: 3em;    /* 可以定义图标大小 */    font-style: normal;    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;  }    /* 时间轴生肖icon */  svg.icon {    /* 这里定义svg.icon，避免和Butterfly自带的note标签冲突 */    width: 1em;    height: 1em;    /* width和height定义图标的默认宽度和高度*/    vertical-align: -0.15em;    fill: currentColor;    overflow: hidden;  }    .icon-zhongbiao::before {    color: #f7c768;  }    /* bilibli番剧插件 */  #article-container .bangumi-tab.bangumi-active {    background: var(--anzhiyu-theme);    color: var(--anzhiyu-ahoverbg);    border-radius: 10px;  }  a.bangumi-tab:hover {    text-decoration: none !important;  }  .bangumi-button:hover {    background: var(--anzhiyu-theme) !important;    border-radius: 10px !important;    color: var(--anzhiyu-ahoverbg) !important;  }  a.bangumi-button.bangumi-nextpage:hover {    text-decoration: none !important;  }  .bangumi-button {    padding: 5px 10px !important;  }    a.bangumi-tab {    padding: 5px 10px !important;  }  svg.icon.faa-tada {    font-size: 1.1em;  }  .bangumi-info-item {    border-right: 1px solid #f2b94b;  }  .bangumi-info-item span {    color: #f2b94b;  }  .bangumi-info-item em {    color: #f2b94b;  }    /* 解决artitalk的图标问题 */  #uploadSource > svg {    width: 1.19em;    height: 1.5em;  }    /*top-img黑色透明玻璃效果移除，不建议加，除非你执着于完全一图流或者背景图对比色明显 */  #page-header:not(.not-top-img):before {    background-color: transparent !important;  }    /* 首页文章卡片 */  #recent-posts > .recent-post-item {    background: rgba(255, 255, 255, 0.9);  }    /* 首页侧栏卡片 */  #aside-content .card-widget {    background: rgba(255, 255, 255, 0.9);  }    /* 文章页面正文背景 */  div#post {    background: rgba(255, 255, 255, 0.9);  }    /* 分页页面 */  div#page {    background: rgba(255, 255, 255, 0.9);  }    /* 归档页面 */  div#archive {    background: rgba(255, 255, 255, 0.9);  }    /* 标签页面 */  div#tag {    background: rgba(255, 255, 255, 0.9);  }    /* 分类页面 */  div#category {    background: rgba(255, 255, 255, 0.9);  }    /*夜间模式伪类遮罩层透明*/  [data-theme="dark"] #recent-posts > .recent-post-item {    background: #121212;  }    [data-theme="dark"] .card-widget {    background: #121212 !important;  }    [data-theme="dark"] div#post {    background: #121212 !important;  }    [data-theme="dark"] div#tag {    background: #121212 !important;  }    [data-theme="dark"] div#archive {    background: #121212 !important;  }    [data-theme="dark"] div#page {    background: #121212 !important;  }    [data-theme="dark"] div#category {    background: #121212 !important;  }    [data-theme="dark"] div#category {    background: transparent !important;  }  /* 页脚透明 */  #footer {    background: transparent !important;  }    /* 头图透明 */  #page-header {    background: transparent !important;  }    #rightside > div > button {    border-radius: 5px;  }    /* 滚动条 */    ::-webkit-scrollbar {    width: 10px;    height: 10px;  }    ::-webkit-scrollbar-thumb {    background-color: #3b70fc;    border-radius: 2em;  }    ::-webkit-scrollbar-corner {    background-color: transparent;  }    ::-moz-selection {    color: #fff;    background-color: #3b70fc;  }    /* 音乐播放器 */    /* .aplayer .aplayer-lrc {    display: none !important;  } */    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {    left: -66px !important;    transition: all 0.3s;    /* 默认情况下缩进左侧66px，只留一点箭头部分 */  }    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {    left: 0 !important;    transition: all 0.3s;    /* 鼠标悬停是左侧缩进归零，完全显示按钮 */  }    .aplayer.aplayer-fixed {    z-index: 999999 !important;  }    /* 评论框  */  .vwrap {    box-shadow: 2px 2px 5px #bbb;    background: rgba(255, 255, 255, 0.3);    border-radius: 8px;    padding: 30px;    margin: 30px 0px 30px 0px;  }    /* 设置评论框 */    .vcard {    box-shadow: 2px 2px 5px #bbb;    background: rgba(255, 255, 255, 0.3);    border-radius: 8px;    padding: 30px;    margin: 30px 0px 0px 0px;  }    /* md网站下划线 */  #article-container a:hover {    text-decoration: none !important;  }    #article-container #hpp_talk p img {    display: inline;  }    /* 404页面 */  #error-wrap {    position: absolute;    top: 40%;    right: 0;    left: 0;    margin: 0 auto;    padding: 0 1rem;    max-width: 1000px;    transform: translate(0, -50%);  }    #error-wrap .error-content {    display: flex;    flex-direction: row;    justify-content: center;    align-items: center;    margin: 0 1rem;    height: 18rem;    border-radius: 8px;    background: var(--card-bg);    box-shadow: var(--card-box-shadow);    transition: all 0.3s;  }    #error-wrap .error-content .error-img {    box-flex: 1;    flex: 1;    height: 100%;    border-top-left-radius: 8px;    border-bottom-left-radius: 8px;    background-color: #3b70fc;    background-position: center;    background-size: cover;  }    #error-wrap .error-content .error-info {    box-flex: 1;    flex: 1;    padding: 0.5rem;    text-align: center;    font-size: 14px;    font-family: Titillium Web, "PingFang SC", "Hiragino Sans GB", "Microsoft JhengHei", "Microsoft YaHei", sans-serif;  }  #error-wrap .error-content .error-info .error_title {    margin-top: -4rem;    font-size: 9em;  }  #error-wrap .error-content .error-info .error_subtitle {    margin-top: -3.5rem;    word-break: break-word;    font-size: 1.6em;  }  #error-wrap .error-content .error-info a {    display: inline-block;    margin-top: 0.5rem;    padding: 0.3rem 1.5rem;    background: var(--btn-bg);    color: var(--btn-color);  }    #body-wrap.error .aside-list {    display: flex;    flex-direction: row;    flex-wrap: nowrap;    bottom: 0px;    position: absolute;    padding: 1rem;    width: 100%;    overflow: scroll;  }    #body-wrap.error .aside-list .aside-list-group {    display: flex;    flex-direction: row;    flex-wrap: nowrap;    max-width: 1200px;    margin: 0 auto;  }    #body-wrap.error .aside-list .aside-list-item {    padding: 0.5rem;  }    #body-wrap.error .aside-list .aside-list-item img {    width: 100%;    object-fit: cover;    border-radius: 12px;  }    #body-wrap.error .aside-list .aside-list-item .thumbnail {    overflow: hidden;    width: 230px;    height: 143px;    background: var(--anzhiyu-card-bg);    display: flex;  }    #body-wrap.error .aside-list .aside-list-item .content .title {    -webkit-line-clamp: 2;    overflow: hidden;    display: -webkit-box;    -webkit-box-orient: vertical;    line-height: 1.5;    justify-content: center;    align-items: flex-end;    align-content: center;    padding-top: 0.5rem;    color: white;  }    #body-wrap.error .aside-list .aside-list-item .content time {    display: none;  }    /* 代码框主题 */  #article-container figure.highlight {    border-radius: 10px;  }]]></content>
      
    </entry>
    
    
  
</search>
